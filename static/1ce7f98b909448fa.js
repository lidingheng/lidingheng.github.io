!function(t){t.iosParallax=function(n,a){function i(){var t=l.$el.css("background-image").match(/url\(.*\)/gi);if(!t||t.length<1)throw"No background image found";return t[0].replace(/url\(|'|"|'|"|\)$/gi,"")}function o(){var t=new Image;return t.src=i(),{width:t.width,height:t.height}}function e(){var t=o();c.x=-1*Math.abs(t.width-l.$el.width())/2,c.y=-1*Math.abs(t.height-l.$el.height())/2,s.x=c.x,s.y=c.y,h.x=c.x,h.y=c.y}function r(){l.$el.mousemove(function(n){var a=l.options.movementFactor/l.$el.width(),i=l.options.movementFactor/l.$el.height(),o=n.pageX-t(window).width()/2,e=n.pageY-t(window).height()/2;s.x=a*o*-1+c.x,s.y=i*e*-1+c.y});setInterval(function(){h.x+=(s.x-h.x)/l.options.dampenFactor,h.y+=(s.y-h.y)/l.options.dampenFactor,l.$el.css("background-position",h.x+"px "+h.y+"px")},16);t(window).resize(function(){e()});var n=new Image;n.src=i(),t(n).load(function(){e()})}var l=this;l.$el=t(n),l.el=n,l.$el.data("iosParallax",l);var c={x:0,y:0},s={x:0,y:0},h={x:0,y:0};l.init=function(){l.options=t.extend({},t.iosParallax.defaultOptions,a),r()},l.init()},t.iosParallax.defaultOptions={movementFactor:50,dampenFactor:36},t.fn.iosParallax=function(n){return this.each(function(){new t.iosParallax(this,n)})}}(jQuery);